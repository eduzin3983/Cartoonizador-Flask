<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Index</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

    <!-- Background video -->
    <video autoplay muted loop playsinline preload="auto" class="bg-video">
        <source src="/static/background/background.mp4" type="video/mp4">
        Your browser does not support HTML5 videos.
    </video>

    <!-- Content -->
    <div class="container centralizado">
        <h2>Upload an Image!</h2>

        <p class="inline-text">
            View previously uploaded images!
            <a href="/image">Click Here!</a>
        </p>
        
        <form action="/upload" method="post" enctype="multipart/form-data">
            <!-- Upload button with icon -->
            <label for="file-upload" class="custom-file-upload">
                <img src="/static/icons/upload.png" alt="Upload" class="upload-icon">
                Choose Image
            </label>
            <input id="file-upload" type="file" name="image" accept="image/*" />

            <!-- File name -->
            <p id="file-name"></p>
            
            {% with messages = get_flashed_messages() %}
                {% if messages %}
                    <div class="flash-message">
                        {{ messages[0] }}
                    </div>
                {% endif %}
            {% endwith %}

            <button type="submit">Submit</button>
        </form>
    </div>

    <!-- Script -->
    <script>
        const fileInput = document.getElementById('file-upload');
        const fileNameDisplay = document.getElementById('file-name');

        fileInput.addEventListener('change', function () {
            if (fileInput.files.length > 0) {
                fileNameDisplay.textContent = fileInput.files[0].name;
            } else {
                fileNameDisplay.textContent = '';
            }
        });
    </script>
</body>
</html>
